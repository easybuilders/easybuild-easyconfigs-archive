easyblock = 'MakeCp'

name = 'wgsim'
version = '20111017'
local_commit = 'a12da3375ff3b51a5594d4b6fa35591173ecc229'

homepage = 'https://github.com/lh3/wgsim/'
description = """Wgsim is a small tool for simulating sequence reads from a reference genome."""

toolchain = {'name': 'GCC', 'version': '10.2.0'}

github_account = 'lh3'
source_urls = [GITHUB_SOURCE]
sources = [{'download_filename': '%s.zip' % local_commit, 'filename': SOURCE_TAR_GZ}]
patches = [
    ('wgsim-%(version)s_add_makefile.patch', 1)
]

dependencies = [('zlib', '1.2.11')]

buildopts = 'CC="$CC" CFLAGS="$CLFAGS"'

files_to_copy = [(["wgsim"], 'bin')]

sanity_check_commands = [("%(name)s -h 2>&1 | grep 'Program: wgsim (short read simulator)'")]

sanity_check_paths = {
    'files': ['bin/wgsim'],
    'dirs': [],
}

moduleclass = 'bio'
