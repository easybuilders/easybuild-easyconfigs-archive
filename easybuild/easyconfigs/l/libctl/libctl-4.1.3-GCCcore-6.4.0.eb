easyblock = 'ConfigureMake'

name = 'libctl'
version = '4.1.3'

homepage = 'http://ab-initio.mit.edu/libctl'
description = """libctl is a free Guile-based library implementing flexible 
 control files for scientific simulations."""

toolchain = {'name': 'GCCcore', 'version': '6.4.0'}
toolchainopts = {'pic': True}

source_urls = ['https://github.com/stevengj/libctl/archive/']
sources = ['v%(version)s.tar.gz']
checksums = ['4eaa5300b0b3794589ff24a8c91b087f83108b65adf308d2484ba335cf65f29a']

builddependencies = [
    ('Autotools', '20170619'),
    ('binutils', '2.28'),
]

dependencies = [('Guile', '2.2.2')]

preconfigopts = './autogen.sh && '

configopts = '--enable-shared --with-pic '

sanity_check_paths = {
    'files': ['bin/gen-ctl-io', 'lib/libctl.a', 'lib/libctlgeom.a',
              'lib/libctlgeom.%s' % SHLIB_EXT, 'lib/libctl.%s' % SHLIB_EXT],
    'dirs': ['include'],
}

moduleclass = 'chem'
