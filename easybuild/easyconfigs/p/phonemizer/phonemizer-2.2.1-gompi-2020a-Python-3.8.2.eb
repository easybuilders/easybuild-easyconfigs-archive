easyblock = 'PythonBundle'

name = 'phonemizer'
version = '2.2.1'
versionsuffix = '-Python-%(pyver)s'

homepage = "https://github.com/bootphon/phonemizer"
description = """
The phonemizer allows simple phonemization of words and texts in many languages.
Provides both the phonemize command-line tool and the Python function phonemizer.phonemize.
It is using four backends: espeak, espeak-mbrola, festival and segments.
"""

toolchain = {'name': 'gompi', 'version': '2020a'}

dependencies = [
    ('Python', '3.8.2'),
    ('eSpeak-NG', '1.50'),
    ('festival', '2.5.0'),
]

use_pip = True
sanity_pip_check = True

exts_default_options = {'source_urls': [PYPI_SOURCE]}

exts_list = [
    ('regex', '2020.7.14'),
    ('csvw', '1.8.0'),
    ('uritemplate', '3.0.1'),
    ('isodate', '0.6.0'),
    ('rfc3986', '1.4.0'),
    ('colorlog', '4.2.1'),
    ('clldutils', '3.5.2'),
    ('segments', '2.1.3'),
    (name, version),
]

sanity_check_commands = [
    'phonemize --version',
    'echo "hello world" | phonemize'
]

moduleclass = 'tools'
