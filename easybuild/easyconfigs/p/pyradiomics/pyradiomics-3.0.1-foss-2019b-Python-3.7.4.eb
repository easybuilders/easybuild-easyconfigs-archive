easyblock = 'PythonBundle'

name = 'pyradiomics'
version = '3.0.1'
versionsuffix = '-Python-%(pyver)s'

homepage = 'https://pyradiomics.readthedocs.io/'
description = """Open-source python package for the extraction of Radiomics features from 2D and 3D
  images and binary masks."""

toolchain = {'name': 'foss', 'version': '2019b'}

dependencies = [
    ('Python', '3.7.4'),
    ('SimpleITK', '1.2.4', versionsuffix),
]

use_pip = True

exts_list = [
    ('numpy', '1.18.0', {
        'source_tmpl': '%(name)s-%(version)s.zip',
    }),
    ('PyWavelets', '1.2.0', {
        'modulename': 'pywt',
        'checksums': ['6cbd69b047bb4e00873097472133425f5f08a4e6bc8b3f0ae709274d4d5e9a8d'],
    }),
    ('pykwalify', '1.8.0', {
        'checksums': ['796b2ad3ed4cb99b88308b533fb2f559c30fa6efb4fa9fda11347f483d245884'],
    }),
    ('ruamel.yaml.clib', '0.2.6', {
        'modulename': False,  # skip import check, covered by import check for ruamel.yaml extension
    }),
    ('ruamel.yaml', '0.17.20', {
    }),
    (name, version, {
        'modulename': 'radiomics',
        'checksums': ['47c57f441d6cb7973fa3b2ea48d3948df78e3348e1c69e1e2ff19001601fc2f5'],
    }),
]

sanity_check_paths = {
    'files': ['bin/pyradiomics'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = ["pyradiomics --help"]

sanity_pip_check = True

moduleclass = 'bio'
