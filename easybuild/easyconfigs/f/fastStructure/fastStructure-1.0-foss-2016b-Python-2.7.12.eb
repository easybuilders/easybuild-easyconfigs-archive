easyblock = "PythonPackage"

name = 'fastStructure'
version = '1.0'
versionsuffix = '-Python-%(pyver)s'

homepage = 'https://github.com/rajanil/fastStructure'

description = """fastStructure is a fast algorithm for inferring population structure from large SNP genotype data. 
 It is based on a variational Bayesian framework for posterior inference and is written in Python2.x. 
 Here, we summarize how to setup this software package, compile the C and Cython scripts and run the algorithm 
 on a test simulated genotype dataset."""

toolchain = {'name': 'foss', 'version': '2016b'}

source_urls = ['https://github.com/rajanil/fastStructure/archive/']
sources = ['v%(version)s.tar.gz']

patches = ['fastStructure-1.0.patch']

dependencies = [
    ('Python', '2.7.12'),
    ('GSL', '2.3'),
]

options = {'modulename': 'fastStructure'}

sanity_check_paths = {
    'files': ['lib/python2.7/site-packages/%s' % x for x in ['fastStructure.so', 'parse_bed.so', 'parse_str.so']] +
             ['bin/structure.py', 'bin/distruct.py', 'bin/chooseK.py'],
    'dirs': []
}
moduleclass = 'bio'
