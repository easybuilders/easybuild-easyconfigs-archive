easyblock = 'ConfigureMake'

name = 'Qwt'
version = '6.1.5'

homepage = 'http://qwt.sourceforge.net/'
description = """The Qwt library contains GUI Components and utility classes which are primarily useful for programs
 with a technical background."""

toolchain = {'name': 'GCCcore', 'version': '9.3.0'}

source_urls = [SOURCEFORGE_SOURCE]
sources = [SOURCELOWER_TAR_BZ2]
checksums = ['4076de63ec2b5e84379ddfebf27c7b29b8dc9074f3db7e2ca61d11a1d8adc041']

builddependencies = [
    ('binutils', '2.34'),
]

dependencies = [
    ('Qt5', '5.14.1'),
]

skipsteps = ['configure']

prebuildopts = "sed -i 's@QWT_INSTALL_PREFIX[ ]*=.*@QWT_INSTALL_PREFIX = %(installdir)s@g' qwtconfig.pri && "
prebuildopts += "qmake qwt.pro && "

sanity_check_paths = {
    'files': ['lib/libqwt.%s' % SHLIB_EXT],
    'dirs': ['doc', 'features', 'include', 'plugins'],
}

moduleclass = 'lib'
